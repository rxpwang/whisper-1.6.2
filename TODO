### Measurement improvement
- per token latency [done]
- serialized pipeline w/o audio tag [done]

### Profiling
- pipeline efficiency
  - bubble time between CPU decoding and GPU decoding [done]
  - the cause of hallucination [done]

### Bugs
- segfault
  - buffer.insert might segfault for ngram size of 2 [done]


### M2 / M4 evaluation
| system | whisper-base | whisper-medium|
| ------ | --------------| ---|
| ours (pipeline-v1) |  | w/ tag: 4722.0 (+-528.1) ms,| 
| serialized |  | w/ tag: 3014.0 (+-437.3) ms, |
| baseline   |  | w/o tag: 7434.0 (+-1058.8) ms, |


### M2 Pro evaluation (using 7 P cores and 19 GPU cores)
#### Major result
| system | whisper-base | whisper-medium |
| ------ | --------------| ---|
| ours (pipeline-v1) |      | w/ tag: 1360.9 (+-92.6) ms, w/o tag: 2838 (+-164.5) ms | 
| serialized         |      | w/ tag: 1362.6 (+-144.3) ms, w/o tag: 2766.0 (+-57.0) ms |
| baseline           |      | w/ tag: 3079.3 (+-260.7) ms, w/o tag: 3396.1 (+-30.9) ms |


#### Grid search on CPU / GPU function CPU thread counts
Using 10 cores, part of them is E cores

| Ours | w/ audio tag | w/o audio tag |
| ------------ | ------------ | ------------- |
| CPU:9, GPU:1 | - | - |
| CPU:8, GPU:2 | - | - |
| CPU:7, GPU:3 | 1290.2 (+-150.7) ms | 2575.7 (+-123.2) ms |
| CPU:6, GPU:4 | 1288.7 (+-146.7) ms  | 2502.8 (+-200.1) ms |
| CPU:5, GPU:5 | 1242.0 (+-129.6) ms  | 2595.4 (+-82.6) ms |


### M2 Ultra evaluation
| system | whisper-medium | whisper-large|
| ------ | --------------| ---|
| ours (pipeline-v1) |  |   | 
| serialized |  |  |
| baseline   |  |  |

### M2 Max evaluation
| system | whisper-medium | whisper-large|
| ------ | --------------| ---|
| ours (pipeline-v1) |  |   | 
| serialized |  |  |
| baseline   |  |  |
